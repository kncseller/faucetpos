<pre>Array
( [0] => Array ( [file] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/themes/shop/build.php [line] => 394 [function] => {closure} ) [1] => Array ( [file] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/themes/shop/staff.php [line] => 4 [args] => Array ( [0] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/themes/shop/build.php ) [function] => include ) [2] => Array ( [file] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/staff_shop.php [line] => 19 [args] => Array ( [0] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/themes/shop/staff.php ) [function] => include_once ) [3] => Array ( [file] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/v1/index.php [line] => 298 [args] => Array ( [0] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/staff_shop.php ) [function] => include_once ) [4] => Array ( [file] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/index.php [line] => 85 [args] => Array ( [0] => /home/zatokzdl/donggiatri.com/faucet.donggiatri.com/modules/access.donggiatri.com/v1/index.php ) [function] => include_once )
)</pre> <h2>Error</h2> <ul> <li>Message: Undefined variable: time</li> <li>Source: /themes/shop/build.php</li> <li>Line: 394</li> <li>Date: 2025-12-12 04:44:03 am</li> </ul> <!DOCTYPE html> <html lang="en"> <head> <base href="https://accessbeta.donggiatri.com/"> <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/128/6232/6232371.png"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <meta name="apple-mobile-web-app-title" content="My App"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="viewport" content="viewport-fit=cover,width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0"> <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> <meta name="auth-token" content=""> <meta name="api_key" content=""> <title>Bán hàng - MEMO</title> <meta name="description" content="FAUCETPOS là Phần mềm quản và cộng tác viên."> <link rel="canonical" href="https://accessbeta.donggiatri.com/"> <link rel="alternate" href="https://accessbeta.donggiatri.com/" > <meta name="keywords" content="FAUCETPOS,pos, Phần mềm quản và cộng tác viên"> <meta name="robots" content="index,follow,noodp"> <meta property="og:type" content="website"> <meta property="og:title" content="FAUCETPOS - Phần mềm quản và cộng tác viên"> <meta property="og:image" content="https://accessbeta.donggiatri.com//images/pos-banner.png?t=1"> <meta property="og:image:secure_url" content="https://accessbeta.donggiatri.com//images/FAUCETPOS-banner.png"> <meta property="og:description" content="FAUCETPOS Phần mềm quản và cộng tác viên."> <meta property="og:url" content="https://accessbeta.donggiatri.com/"> <meta property="og:site_name" content="FAUCETPOS"> <meta http-equiv="x-dns-prefetch-control" content="on"> <style type="text/css"> body:not(.loaded)>*{visibility:hidden}.box-row-col{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.box-row-col .a-col{position:relative}.box-row-col .a-auto{height:100%;overflow-y:scroll;-webkit-box-flex:1;-ms-flex:1;flex:1}.screen_box{visibility:visible!important;position:absolute;top:0;left:0;width:100%;height:100%;z-index:10000000000000000;background:url(https://picsum.photos/1024/1024) 0 0/cover no-repeat #fff}.lds-ripple{display:inline-block;position:relative;width:80px;height:80px}.lds-ripple div{position:absolute;border:4px solid #ed1b3a;opacity:1;border-radius:50%;-webkit-animation:1s cubic-bezier(0,.2,.8,1) infinite lds-ripple;animation:1s cubic-bezier(0,.2,.8,1) infinite lds-ripple}.lds-ripple div:nth-child(2){-webkit-animation-delay:-.5s;animation-delay:-.5s}@-webkit-keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0;left:0;width:72px;height:72px;opacity:0}}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0;left:0;width:72px;height:72px;opacity:0}} i.fa, i.far, i.fas, i.fal { font-family: FontAwesome!important; } .flex-wrap{ display:flex; flex-direction:row; flex-wrap:wrap; justify-content: space-evenly; } .flex-wrap >*{ flex-grow: 1; } .bg{ border-radius: 8px; background-color: #fefefe; background-repeat: no-repeat; background-size: cover; margin-right:8px; margin-bottom:8px; margin-top:8px; } .bgcontain{ background-size: contain; background-position: center; } .reportall{ } .itemreport{} .itemreport .itemr{ display: flex; width: 47%; margin-right: 16px; } .itemreport .itemr .bg{ width:35px;height:35px;background-image:url(https://placehold.co/75x75/cecece/333/png) } .itemreport .itemr p{ font-size: 14px; font-weight: bold; } .reportall h3{ margin: 0; } #barchart_week svg{ overflow: auto; width: 100%; height: 100%; fill: initial; } [data-theme=theme-3] .listproduts{ display: flex; flex-wrap: wrap; } [data-theme=theme-3] .listproduts .all .item-icon{ width: 55px !important; height: 55px !important; position: absolute; border-radius: 50%; min-height: 55px; top: 15%; } [data-theme=theme-3] .listproduts .all{ flex-grow: 1; min-height: 75px; display: flex; flex-direction: row !important; overflow: hidden; border-radius: 8px; border: 1px solid #f3f3f3; padding: 8px; margin-right: 8px; margin-bottom: 8px; } [data-theme=theme-3] .listproduts .item-content{ flex-grow: 1; padding-left: 60px!important; } .title{ white-space: unset; } .navbutton{} .navbutton li{ border-style: none; } .navbutton li.active{ border-color: red !important; border-radius: 4px 16px; } @media (max-width: 1023px) { .itemreport{ flex-direction: row; } .itemreport .itemr{ width: 44%; margin-right: 0; margin-bottom: 0; } } </style> <link rel="preload" href="build/app.min.css?t=1765514643" as="style" /> <link rel="preload" href="build/app.min.js?t=1765514643" as="script" /> </head> <body translate="no" class="shop" data-color='default'> <div class="screen_box"> <div class="box-row-col"> <div class="a-col"> </div> <div class="a-col a-auto"> <div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center;" class='imgbox'> </div> <div style="position: absolute; bottom: 24px; width: 100%; text-align: center;"> <div class="lds-ripple"><div></div><div></div></div> </div> </div> <div class="a-col"> </div> </div> </div> <div class="loadingapp" style=" "> <div class="loader">Loading...</div> </div> <script> var matchs = new RegExp("v1\/([0-9a-z]+)\/([^\/\?]+)\/(.*)", "g").exec(document.location.pathname);var appconfig={ root: "/build/", api_key:"DEMO", domain:"https://banhang.donggiatri.com/", shop_id :"", type: "cua-hang", id_outlet: "0", id_pos: ""};var CURRENCY = "đ"; window.AppRequest = (function(win){ var shop_id = appconfig.shop_id; var type = appconfig.type; var id_outlet = appconfig.id_outlet; var id_pos = appconfig.id_pos; return { post : function(url,data,f){ data = data||{}; data = this.beforeSend(data); post(url,data,f,true); return this; }, beforeSend : function(data){ data.shop_id = shop_id; data.id_outlet = id_outlet; data.id_pos = this.id_pos || AppConfig.id_pos; return data; }, fullscreen: function () { var elem = document.getElementById("appin"); if (elem.requestFullscreen) { elem.requestFullscreen(); } else if (elem.webkitRequestFullscreen) { elem.webkitRequestFullscreen(); } else if (elem.msRequestFullscreen) { elem.msRequestFullscreen(); } }, pr : function(f){ site_url_ajax("api/setting/pr/").post(function(res){ if(typeof res=="object"){ window.AppConfig = $.extend(window.AppConfig||{},res,true); if(f)f(); } }); }, shop_id:shop_id, id_outlet:id_outlet, type:type, path : function(url){ var a = this.shop_id.split(""); var p = a.splice(0,4).join("")+"-"+a.slice(0,2).join("")+"-"+a.slice(0,2).join(""); return site_url((AppConfig.token?AppConfig.token+"/":"")+p+"/"+(url||"")); }, id_pos:id_pos, changeOutlet : function(){ "ManageOutlet".navigate(); }, config : function(f){ if(window.AppConfig){ f(window.AppConfig); }else{ setTimeout(function(){ window.AppRequest.config(f); },1500); } }, logout : function(){ this.shop_id =null; this.id_outlet =null; window.AppConfig ={}; storage("config",""); document.location.reload(); return this; }, login : function(data){ "Login".navigate(data); return this; }, ping : function(f){ site_url_ajax("api/storepos/ping/").post({},function(r){ }); return this; }, heartbeat : function(f){ post(site_url_ajax("api/admin/ping"),{},function(r){ console.log(r); $(".adminnotices").remove(); if(r.notices && r.notices.length){ $("body").append(`<div class='adminnotices'> ${JSON.stringify(r.notices)} </div>`); } if(r.logout==1){ document.location.reload() } $(document).trigger("Ping",[r]); },true); return this; }, logo : function(f){ var logo = "images/logo.png?t=1"; if(window.AppConfig && AppConfig.setting.pr){ logo = AppConfig.setting.pr?AppConfig.setting.pr.logo:"images/logo.png?t=1"; window.localStorage.setItem("_logo",logo); return logo; } logo = window.localStorage.getItem("_logo")|| logo; return logo; }, loadRoute: function(name,options){ post("/view/"+name,{},function(r){ if(r.code){ $("body").append(`<style id="123">${r.css}</style> <script id="1234">${r.js}<\/script>`); $(".tabsmenu.tab").append(r.menu.map(function(v){ return `<li data-target="${v.id}"> ${v.icon.includes("https:")?`<img src="${v.icon}" width="24" height="24" />`:v.icon} <span>${v.name} </span> </li>`; }).join("")); } },true); }, loadRole : function(f){ var config = win.AppConfig; if(win.user){ $.blockUI({message:`<div style="text-align:center;"><div><img width="45" src="https://cdn-icons-png.flaticon.com/128/2859/2859277.png" /></div><p>Đang tải các module cần thiết. Vui lòng chờ trong giây lát...</p></div>`}); $(document).on("Modules_Ready",function(e){ var host = document.location.host; if(!host){ var a = document.location.pathname.split("/"); a.pop(); var dir = "file://"+a.join("/"); LoadJS(dir+"/build/core.min.js",function(){}); LoadCSS(dir+"/build/core.min.css",function(){}); }else if(!document.baseURI.includes(host)){ var a = document.location.pathname.split("/"); a.pop(); var dir = document.location.origin+"/"+a.join("/"); LoadJS(dir+"/build/core.min.js",function(){}); LoadCSS(dir+"/build/core.min.css",function(){}); } }); post(site_url_ajax(AppRequest.BUILDDEV?"api/admin/debug/":"api/admin/role/"),{cached:0},function(r){ $.unblockUI(); if(r.code){ if( win.user.role=="admin"){ $(".listproduts").addClass("tools"); } $("body").append(`<style id="css${Date.now()}">${r.css}</style> <script id="js${Date.now()}">${r.js}<\/script>`); $(document).trigger("onModule",[]); r.menu.map(function(v){ if(v.display==1){ var group = v.group||"other"; $("[data-group='"+group+"']").append(`<li data-module="${v.module||''}" data-target="${v.id}"> ${v.icon.includes("https:")?`<img src="${v.icon}" width="24" height="24" />`:v.icon} <span>${v.name} </span> </li>`); } }); if(win.Modules){ win.Modules.menu = $.extend(win.Modules.menu||{},r.menu,true); } win.user.roles = r.roles; win.user.has_role = function(role){ return this.roles.includes(role); }; win.user.has_access = function(role){ return this.roles.includes(role); }; $(document).on('init.bs.modal',".modal", function (e) { var who = $(e.currentTarget); if(win.user&&!win.user.has_role('admin')){ who.find(".roleaccess").remove(); } }); StorePos.check(); if(AppRequest.BUILDDEV){ AppRequest.BUILDDEV(); } if(f)f(); $(document).trigger("Modules_Ready",[]); }else{ var dialog = bootbox.dialog({ title: 'Thông báo', message: ` <div class="text-center"> <div><img width="75" height="75" src="https://cdn-icons-png.flaticon.com/128/1691/1691940.png" /></div> <p>Tài khoản của bạn đã đăng nhập ở thiết bị khác. Hệ thống tự đăng xuất. Chúng tôi xin lỗi vì sự bất tiện này.</p> </div>`, size: 'large', buttons: { ok: { label: "Xác nhận", className: 'btn-info', callback: function(){ logoutUser(); } } } }); } },true); } }, cache : (function(win,key){ function md5(inputString) { var hc="0123456789abcdef"; function rh(n) {var j,s="";for(j=0;j<=3;j++) s+=hc.charAt((n>>(j*8+4))&0x0F)+hc.charAt((n>>(j*8))&0x0F);return s;} function ad(x,y) {var l=(x&0xFFFF)+(y&0xFFFF);var m=(x>>16)+(y>>16)+(l>>16);return (m<<16)|(l&0xFFFF);} function rl(n,c) {return (n<<c)|(n>>>(32-c));} function cm(q,a,b,x,s,t) {return ad(rl(ad(ad(a,q),ad(x,t)),s),b);} function ff(a,b,c,d,x,s,t) {return cm((b&c)|((~b)&d),a,b,x,s,t);} function gg(a,b,c,d,x,s,t) {return cm((b&d)|(c&(~d)),a,b,x,s,t);} function hh(a,b,c,d,x,s,t) {return cm(b^c^d,a,b,x,s,t);} function ii(a,b,c,d,x,s,t) {return cm(c^(b|(~d)),a,b,x,s,t);} function sb(x) { var i;var nblk=((x.length+8)>>6)+1;var blks=new Array(nblk*16);for(i=0;i<nblk*16;i++) blks[i]=0; for(i=0;i<x.length;i++) blks[i>>2]|=x.charCodeAt(i)<<((i%4)*8); blks[i>>2]|=0x80<<((i%4)*8);blks[nblk*16-2]=x.length*8;return blks; } var i,x=sb(""+inputString),a=1732584193,b=-271733879,c=-1732584194,d=271733878,olda,oldb,oldc,oldd; for(i=0;i<x.length;i+=16) {olda=a;oldb=b;oldc=c;oldd=d; a=ff(a,b,c,d,x[i+ 0], 7, -680876936);d=ff(d,a,b,c,x[i+ 1],12, -389564586);c=ff(c,d,a,b,x[i+ 2],17, 606105819); b=ff(b,c,d,a,x[i+ 3],22,-1044525330);a=ff(a,b,c,d,x[i+ 4], 7, -176418897);d=ff(d,a,b,c,x[i+ 5],12, 1200080426); c=ff(c,d,a,b,x[i+ 6],17,-1473231341);b=ff(b,c,d,a,x[i+ 7],22, -45705983);a=ff(a,b,c,d,x[i+ 8], 7, 1770035416); d=ff(d,a,b,c,x[i+ 9],12,-1958414417);c=ff(c,d,a,b,x[i+10],17, -42063);b=ff(b,c,d,a,x[i+11],22,-1990404162); a=ff(a,b,c,d,x[i+12], 7, 1804603682);d=ff(d,a,b,c,x[i+13],12, -40341101);c=ff(c,d,a,b,x[i+14],17,-1502002290); b=ff(b,c,d,a,x[i+15],22, 1236535329);a=gg(a,b,c,d,x[i+ 1], 5, -165796510);d=gg(d,a,b,c,x[i+ 6], 9,-1069501632); c=gg(c,d,a,b,x[i+11],14, 643717713);b=gg(b,c,d,a,x[i+ 0],20, -373897302);a=gg(a,b,c,d,x[i+ 5], 5, -701558691); d=gg(d,a,b,c,x[i+10], 9, 38016083);c=gg(c,d,a,b,x[i+15],14, -660478335);b=gg(b,c,d,a,x[i+ 4],20, -405537848); a=gg(a,b,c,d,x[i+ 9], 5, 568446438);d=gg(d,a,b,c,x[i+14], 9,-1019803690);c=gg(c,d,a,b,x[i+ 3],14, -187363961); b=gg(b,c,d,a,x[i+ 8],20, 1163531501);a=gg(a,b,c,d,x[i+13], 5,-1444681467);d=gg(d,a,b,c,x[i+ 2], 9, -51403784); c=gg(c,d,a,b,x[i+ 7],14, 1735328473);b=gg(b,c,d,a,x[i+12],20,-1926607734);a=hh(a,b,c,d,x[i+ 5], 4, -378558); d=hh(d,a,b,c,x[i+ 8],11,-2022574463);c=hh(c,d,a,b,x[i+11],16, 1839030562);b=hh(b,c,d,a,x[i+14],23, -35309556); a=hh(a,b,c,d,x[i+ 1], 4,-1530992060);d=hh(d,a,b,c,x[i+ 4],11, 1272893353);c=hh(c,d,a,b,x[i+ 7],16, -155497632); b=hh(b,c,d,a,x[i+10],23,-1094730640);a=hh(a,b,c,d,x[i+13], 4, 681279174);d=hh(d,a,b,c,x[i+ 0],11, -358537222); c=hh(c,d,a,b,x[i+ 3],16, -722521979);b=hh(b,c,d,a,x[i+ 6],23, 76029189);a=hh(a,b,c,d,x[i+ 9], 4, -640364487); d=hh(d,a,b,c,x[i+12],11, -421815835);c=hh(c,d,a,b,x[i+15],16, 530742520);b=hh(b,c,d,a,x[i+ 2],23, -995338651); a=ii(a,b,c,d,x[i+ 0], 6, -198630844);d=ii(d,a,b,c,x[i+ 7],10, 1126891415);c=ii(c,d,a,b,x[i+14],15,-1416354905); b=ii(b,c,d,a,x[i+ 5],21, -57434055);a=ii(a,b,c,d,x[i+12], 6, 1700485571);d=ii(d,a,b,c,x[i+ 3],10,-1894986606); c=ii(c,d,a,b,x[i+10],15, -1051523);b=ii(b,c,d,a,x[i+ 1],21,-2054922799);a=ii(a,b,c,d,x[i+ 8], 6, 1873313359); d=ii(d,a,b,c,x[i+15],10, -30611744);c=ii(c,d,a,b,x[i+ 6],15,-1560198380);b=ii(b,c,d,a,x[i+13],21, 1309151649); a=ii(a,b,c,d,x[i+ 4], 6, -145523070);d=ii(d,a,b,c,x[i+11],10,-1120210379);c=ii(c,d,a,b,x[i+ 2],15, 718787259); b=ii(b,c,d,a,x[i+ 9],21, -343485551);a=ad(a,olda);b=ad(b,oldb);c=ad(c,oldc);d=ad(d,oldd); } return rh(a)+rh(b)+rh(c)+rh(d);} var mixedcache= win.localStorage.getItem(key); try{ mixedcache = JSON.parse(mixedcache); }catch(e){} if(!mixedcache){ mixedcache = {}; } return function(){ $.ajaxPrefilter(function (options, originalOptions, jqXHR) { var auth =$('[name="auth-token"]').attr("content"); if(auth){ jqXHR.setRequestHeader( 'auth-token',auth); } if (originalOptions.type&&originalOptions.type.toLowerCase().includes("post")) { var success = originalOptions.success || function(){}, url = originalOptions.url; options.mixed_data = md5(url+"_"+(typeof originalOptions.data==="object"?JSON.stringify(originalOptions.data):originalOptions.data)); options.cache = false; options.beforeSend = function () { if (mixedcache[this.mixed_data]) { success(mixedcache[this.mixed_data]); } }; options.success = function (data, textStatus) { try{ var b = JSON.parse(data); mixedcache[this.mixed_data] = b; }catch(e){} win.localStorage.setItem(key, JSON.stringify(mixedcache)); var responseData = data?(typeof data==="object"?JSON.stringify(data):data.toString()):""; if (typeof success ==="function") success(data,textStatus); }; } AppRequest.cache= { on : function(e,f){ $(document).on("cache_"+e,f); return this; }, trigger : function(e,args){ $(document).on("cache_"+e,args||[]); return this; } }; }); }; })(window,"ajax"+document.location.host.replace(/[^a-zA-Z0-9]/ig,"")) }; })(window); AppRequest.cnd = function(){ var cnds =[];};AppRequest.buildRole = function(){ "api/admin/build/".api(function(r){ });};AppRequest.BUILDDEV = function(){ var historybuild ={ }; $(document).on("onLogout",function(e,u){ historybuild={}; storage(historybuild,""); }).on('shown.bs.modal','.modal', function (e) { var page = e.target.id; if(page!="ManageOutlet"){ historybuild.path =page ; historybuild.data = page.pageData(); window.localStorage.setItem("historybuild",JSON.stringify(historybuild)); } }); var n = storage("historybuild"); if(n){ n= JSON.parse(n); } historybuild =$.extend({},n,true); if(historybuild.path){ historybuild.path.navigate(historybuild.data); } }; String.prototype.loaderdata = function(options){ var ele = $(this.toString()); ele.addClass("loaderdata"); if(typeof options =="function"){ options(); setTimeout(function(){ ele.removeClass("loaderdata"); },2000); }else if(typeof options =="object"){ options.url.post(options.data||{},function(r){ ele.removeClass("loaderdata"); if(options.callback){ options.callback(r); } }); }};String.prototype.loaderdataURL = function(url,data,f){ var ele = $(this.toString()); ele.addClass("loaderdata"); url.post(data||{},function(r){ ele.removeClass("loaderdata"); if(f){ f(r); } }); };function IP(){ return "/"; } function site_url(url){ return url.includes("http")?url:"/"+url; } function site_url_ajax(url){ return site_url(url); } window.session = function(){ return "u_af";}; function site_url_pos(url){ return `${window.user.url}`+(url||"");} window.my_shop = function(){ return StorePos.config.name||StorePos.config.name_outlet;};window.my_outlet = function(){ return StorePos.config;}; window.ui = function(modal,options){ options = $.extend({ empty : `<img src="images/empty.png"><br/> <di> Hiện chưa có thông tin. </div>`, loading:`<i class="fa fa-spin fa-cog"></i> Đang tải...` },options,true); modal = modal||$(".modal"); if(modal.find(".empty.ui").length==0){ modal.find(".modal-body").prepend(`<div class="empty ui"> ${options.empty} </div> <div class="loading ui"> ${options.loading} </div>`); } return { empty : function(fun){ modal.find(".ui").addClass("hide"); modal.find(".empty").removeClass("hide"); modal.find(".loading").addClass("hide"); if(fun)fun() }, data : function(fun){ modal.find(".ui").removeClass("hide"); modal.find(".empty").addClass("hide"); modal.find(".loading").addClass("hide"); if(fun)fun() }, loading : function(fun){ modal.find(".ui").addClass("hide"); modal.find(".empty").addClass("hide"); modal.find(".loading").removeClass("hide"); if(fun)fun() } }; }; function simplePaging(page, range,count) { var str=""; if (page > 1) { str+=('<li class="page-item"><a class="page-link" href="#' + (page - 1) + '">Previous</a></li>'); } for (let i = 1; i <= count; i++) { if (i == 1 && page - range > 1) { str+=('<li class="page-item"><a class="page-link" href="#1">1</a></li>'); if (page - range > 2) { str+=('<li class="page-item disabled"><a class="page-link" href="#">...</a></li>'); } } if (i >= page - range && i <= page + range) { if (i != page) { str+=('<li class="page-item"><a class="page-link" href="$' + i + '">' + i + '</a></li>'); } else { str+=('<li class="page-item active"><a class="page-link" href=""#' + i + '"">' + i + '</a></li>'); } } if (i == count && page + range < count) { if (page + range < count - 1) { str+=('<li class="page-item disabled"><a class="page-link" href="#">...</a></li>'); } str+= ('<li class="page-item"><a class="page-link" href="#' + count + '">' + count + '</a></li>'); } } if (page < count) { str+=('<li class="page-item"><a class="page-link" href="#' + (page + 1) + '">Next</a></li>'); } return `<ul class="pagination pag2">${str}</ul>`; }function htmlbody(){ if(window.ADevice){ $("body").append(`<style class="device"> .mainpos{ padding-bottom: ${window.ADevice.insets.bottom}px 0 !important; } </style>`); } return `<div class="menu-tab"> <div class="menubody"> <div class="block-avatar _primary_bg"> <div class="flex-row"> <span class="closex" onclick="$('.menu-tab').toggleClass('active')"><i class="fa fa-times"></i></span> <div data-target="MyAccount" class="flex-row"> <img class="images avatar" data-src="https://placehold.co/75x75/cecece/333/png"> <p> <span>Xin chào</span> <br/> <span class="username fullname">--</span> </p> </div> </div> <div class="blocksearch"> <input type="text" class="form-control s-func" placeholder="Tìm kiếm"> </div> </div> <div class="body"> <div class="reportall roleaccess"> <h3>Báo cáo</h3> <div class="lr infoshopnow"> <div class="flex-row-col"> <div class="logo bg" style="width:55px;height:55px;background-image:url(https://placehold.co/75x75/cecece/333/png)"> </div> <div class="bname"> <div class="shop">AVFGG</div> <div class="small">HCM</div> </div> </div> <div class="lr"> <input type="date" class="form-control dateoutletinput" value="2025-07-07" /> </div> </div> <div class="row"> <div class="col-md-8 col-xs-12"> <div class="flex-wrap itemreport"> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Tháng này</p> <div class="month_total_month">0</div> </div> </div> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Tuần này</p> <div class="week_total_week">0</div> </div> </div> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Doanh thu </p> <div class="total_sale_complete">0</div> </div> </div> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Đơn hàng</p> <div class="total_inv">0</div> </div> </div> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Đang xử lý </p> <div class="total_sale_pending">0</div> </div> </div> <div class="white-view itemr"> <div class="icon bg" style="background-image:url(https://placehold.co/75x75/cecece/333/png)"></div> <div class="bbody"> <p>Tiền cần thu</p> <div class="money_need_got">0</div> </div> </div> </div> </div> <div class="col-md-4 col-xs-12"> <div class="white-view"> <h3>Báo cáo tháng này</h3> <div class="chartweek" style="width: 100%;min-height:175px"> </div> </div> </div> </div> </div> <div class="reportalla roleaccess text-center"> </div> <div class="allactions"> </div> </div> <div class="foot"> <p>Hotline: <a href="tel:+84779694868" style="color: #fff">+84779694868</a></p> <div style="text-align: center;"> <a href="#" style="font-size: 24px;color: #fff;" target="_blank"> <i class="fab fa-facebook-square"></i> </a> <a href="#" style="font-size: 24px;color: #fff;" target="_blank"> <i class="fab fa-youtube"></i> </a> </div> <p>Phiên bản: <a href="/v1/cua-hang/">1.0</a></p> </div> </div> </div> <div class="mainpos _primary_bg"> <div class="box-row-col flex home"> <div class="a-col"> <div class=" header"> <div class="flex-row iconleft"> <i class="fa fa-search prosearchicon hidden-lg hidden-md" onclick="$('.searchmain').toggleClass('active')" aria-hidden="true"></i> <i class="fa fa-bars show_menu visible-md visible-lg"></i> <img onclick="$('.menu-tab').toggleClass('active')" data-src="/images/logo.png" class="logo logoshop hidden-sm hidden-xs" style="width: 30px;height: 30px;"> </div> <div class="tab-button"> <button type="button" style=" width: auto;margin-right:8px" class="btn btn-default pro active" data-tab="desktop-food"><i class="fa fa-book" aria-hidden="true"></i></button> <button type="button" class="btn btn-default inv" data-tab="desktop-inv"> <i class="fa fa-shopping-cart" aria-hidden="true"></i> <span class="badge" style=" position: absolute;"></span> </button> </div> <div class="text-right iconright"> <span class="scanqrcode hidden-md hidden-lg"><i class="fa fa-qrcode" aria-hidden="true"></i></span> <span data-target="MySetting" class=""><img src='https://cdn-icons-png.flaticon.com/128/3524/3524636.png' /><span class="hidden-sm hidden-xs"> Cài đặt</span></span> <div class="dropdown visible-sm visible-xs" style="display:inline-block; padding: 0; margin: 0; width: 50px;"> <button style="background-color:transparent;" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="fa fa-bars" aria-hidden="true"></i> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButton" id="dropdownmobile"> </div> </div> </div> </div> </div> <div class="a-col a-auto" id="collapseTwo"> <div class="loading loading-tb" style="display: none"><i class="fa fa-spin fa-cog"></i> Đang tải bàn...</div><div class="maincontent h100"> <div class="row alldiv"> <div class="col-md-7 col-xs-12 desktop-tab desktop-food"> <div class="searchmain"> <div class="searchmainbarcode"> <button type="button" class="btn btn-primary btniconbarcode1 scanqrcode" style="height: 45px;"> <i class="far fa-barcode-read"></i> </button> <input placeholder="Nhập barcode" type="search" class="searchbarcode form-control hide" > </div> <div class="search-box" id="menusearch" style="width: 100%;"> <div style="background-image:url(https://access.donggiatri.com/svg/search.svg);" class="search"></div> <input type="search" placeholder="Tìm kiếm: sản phẩm, barcode" class="form-control"> </div> <div class=""> <div class="dropdown showgridcol"> <button class="btn no btn-primary dropdown-toggle" type="button" data-toggle="dropdown"><i class="fa fa-table" aria-hidden="true"></i></button> <ul class="dropdown-menu"> </ul> </div> </div> </div> <div class="my-tabs fixed"> <div class="groupcate flex-row"> <div class="desktop-menu flex simple-scroll scroll-tab my-products-tab"> <button type="button" class="btn btn-default mh active" data-id="featured">Nổi bật</button> </div> <div class="actions"> <span data-modal="MyProductSaleCreateSimple" class="roleaccess"> <i class="fa fa-plus-circle " style="font-size: 14px;"></i> </span> </div> </div> <div class="bodyproducts"> <div class="listproduts loaderdata my-products row"> <div class="text-center effect" style="font-size: 14px;margin-bottom: 8px;"><i style="font-size: 14px;" class="fa fa-spin fa-spinner"></i> Đang xử lý...</div> </div> </div> </div> </div> <div class="col-md-5 col-xs-12 desktop-tab desktop-inv"> <div class="orders"> <div class="flex-row"> <div class="simple-scroll scroll-tab actioninv flex"> </div> <div class="no dd-new btn-inv btn btn-primary"> <i class="fa fa-plus-circle" style="font-size: 14px;"></i> </div> </div> <div class="blockorder"> </div> <div class="actions show_action hide lr text-center"> <div class="text-right buttons"> <button class="btn btn-danger btn-cancel-payment mr" ><img src="https://cdn-icons-png.flaticon.com/128/1828/1828665.png" class="visible-xs visible-sm" width="24" height="24" /> <span>Huỷ</span></button> <button class="btn btn-primary btn-payment-quick mr"><img src="https://cdn-icons-png.flaticon.com/128/9428/9428503.png" class="visible-xs visible-sm" width="24" height="24" /> <span>Thanh toán</span></button> </div> </div> </div> </div> </div></div> <div class="print58mm hide" style="font-size: 12px; font-family: Arial"> </div> </div> <div class="a-col"> <div class="text-center support "> <span onclick="AppRequest.changeOutlet();"> <span class="hidden-sm hidden-xs">Truy cập cửa hàng</span> <img data-src="https://cdn-icons-png.flaticon.com/128/10184/10184053.png" class="icon hidden-md hidden-lg"> </span> <span onclick='$(".menu-tab").toggleClass("active")' class="PosMenu"> <span><img style='max-width: inherit;' data-src="https://cdn-icons-png.flaticon.com/128/12679/12679211.png" width="24" height="24" /></span> </span> <span data-target="PosShare"> <span class="hidden-sm hidden-xs">Chia sẻ</span> <img data-src="https://cdn-icons-png.flaticon.com/128/2958/2958783.png" class="icon hidden-md hidden-lg"> </span> </div> </div> </div> </div> <nav style="display:none"> <ul class="row tabsmenu"> <li class="back hide"><i class="fa fa-chevron-left" aria-hidden="true"></i><span>Quay lại</span></li> <li class="active" data-target="home"><img src="images/ic/spa-trangchu.png" alt=""> <span>Trang chủ</span></li> <li> <img class="icon" src="images/ic/spa-lichhen.png" alt=""> <span> Lịch hẹn</span></li> <li data-target="MyHistorySale"><img class="icon" src="images/ic/spa-baocao.png" alt=""><span>Báo cáo</span></li> <li data-target="#MyAccount"><img src="images/ic/spa-account.png" alt=""><span>Tài khoản</span></li> </ul></nav>`;}function stepactive(){ }function uploadui(form,options){ var bar = null; options.name.pickerImageResize({ url : options.url||site_url_ajax("api/upload/base64/"), width:options.size||105, ready : function(src,file){ options.callback(src); bar = $.progressCircle({parent:form,size:40}); }, onProgress : function(per){ per = Math.ceil(per*100); bar.update(per); }, callback:function(src,ac){ if(ac=="end"){ bar.remove(); options.callback(src); } } });}function main(){ File.settings.upload= site_url_ajax("api/upload/file/")||"https://data.donggiatri.com/databases/upload.php"; File.settings.uploadbase64= site_url_ajax("api/upload/base64/")||"https://data.donggiatri.com/databases/upload.php"; File.settings.onData = function(data){ data.shop_id = AppConfig.shop_id; data.id_outlet = AppConfig.id_outlet; return data; }; File.settings.onHeader = function(data){ data["auth-token"] = AppConfig.passkey || window.user.passkey || $("meta[name='auth-token']").attr("content"); return data; }; $(document).on("click","[image-resize]",function(){ var me = this; var form = $(me).closest("form"); if(form.length==0){ form = $(me).closest("div"); } var parent = $(me).closest("div"); var name = $(me).attr("image-resize"); console.log(name); var bar = null; name.pickerImageResize({ url : File.settings.uploadbase64, width:$(me).attr("image-size")||105, ready : function(src,file){ me.src=src; bar = $.progressCircle({parent:parent,size:40}); }, onProgress : function(per){ per = Math.ceil(per*100); bar.update(per); }, callback:function(src,ac){ if(ac=="end"){ bar.remove(); form.find("."+name).val(src); } } }); }).on("click","[image-picker-name]",function(){ var me = this; File.pickerImage({ callback:function(src,callback){ var form = $(me).closest("form"); if(form.length==0){ form = $(me).closest("div"); } var parent = $(me).closest("div"); var field = $(me).attr("image-picker-name"); var name = field; var control = $(me).attr("image-picker-control"); if(control){ name = form.find(control).val().make_slug(); } me.src=src.base64; var bar = $.progressCircle({parent:parent,size:40}); uploadFile({file:src,name:name},File.settings.upload,function(r){ bar.remove(); form.find("."+field).val(r.url); },{ onProgress: function(per){ per = Math.ceil(per*100); console.log(per); bar.update(per); } }); } }); }); f7Shortcode.add("webshare",function(data,page){ var url =site_url_pos(); return `<div class="white-view"> <p>Chia sẻ website</p> <div class="form-group sharewebsite flex-row"> <input type="text" id="xxx" name="xxx" class="form-control" value="${url}"> <button class="btn" data-copy="value="${url}"><i class="fa fa-clone" aria-hidden="true"></i></button> </div> </div>`; }); f7Shortcode.add("slider",function(data,page){ var id = "popups"+Date.now(); var s= `<div class="${id}"><div class="swiper-wrapper popups">${data.popups.map(function(v){ v.content = new Handlebars.SafeString(decodeHTMLEntities(v.content)); return Handlebars.compile(`<div class="swiper-slide popupitem"> <div class="body">{{content}}</div> </div>`)(v); }).join("")}</div><div class="swiper-pagination"></div> </div> `; setTimeout(function(){ var dialog = $("."+id); var options = $.extend({ pagination: dialog.find(".swiper-pagination")[0], paginationClickable: true, parallax: true, speed: 600, autoplay: 3500, loop: true, grabCursor: true },data,true); var swiper = new Swiper(dialog.find(".popups")[0], options); },100); return s; }); $(document).ready(function(){ AppRequest.pr(); $(document).on("change",".s-func",function(e){ var v = this.value.toLowerCase(); var li = $(".allactions li"); if(v){ li.each(function(){ var me = $(this); var text = me.text().trim().toLowerCase().make_slug().replaceAll("-",""); if(text.includes(v)){ $(this).show(); }else{ $(this).hide(); } }); }else{ li.show(); } }); }); $(document).on("onApp",function(e){ setTimeout(function(){ var popups = AppConfig.popup||[]; if(popups.length){ var dialog = bootbox.dialog({ className:"modal-flex", title :"Quảng cáo", message:`<div class="swiper-wrapper popups">${popups.map(function(v){ v.content = new Handlebars.SafeString(decodeHTMLEntities(v.content)); return Handlebars.compile(`<div class="swiper-slide popupitem"> <div class="body">{{content}}</div> </div>`)(v); }).join("")}</div><div class="swiper-pagination"></div>` }); dialog.init(function(){ dialog.find(".modal-header").addClass("header"); var swiper = new Swiper(dialog.find(".popups")[0], { pagination: dialog.find(".swiper-pagination")[0], paginationClickable: true, parallax: true, speed: 600, autoplay: 3500, loop: true, grabCursor: true }); }); } },10*1000); }); $(document).on("onApp",function(e,config){ }); $(document).on("onApp",function(){ var config = AppConfig; var steps ={}; $(document).trigger("onStepSetup",[steps]); var s = Object.values(steps); if(s.length){ s =`<div class="stepactive"><div><img width="75" height="75" src="https://cdn-icons-png.flaticon.com/128/7224/7224308.png" /></div> <p>Các bước cài đặt cửa hàng:</p> <ul>${s.map(function(v){ return `<li>${v}</li>`; }).join("")}</ul> </div> `; alert(s,"Cài đặt cửa hàng"); } $(".PosMenu").on("click",function(){ $(document).trigger("PosMenu",[{opened:1}]); }); }); }window.MyTabs= function(options){ var tabs = {}; var initdata = null; var page = null; function setup(ele){ page = typeof ele=="string"?$(ele):ele; if(page.find("ul.maintab").length==0){ page.html(`<div class="tabspage fullheight flex-row"><ul class="nav nav-pills maintab" role="tablist" data-tabs="tabs"></ul><div class="tab-content maintab flex-col"></div></div>`); } var nn = page.find("div.tabspage").eq(0); methods.$={}; methods.$.tab = nn.find(".ul.maintab").eq(0); methods.$.content = nn.find("div.maintab").eq(0); if(methods.scrollable){ methods.$.tab.addClass("scrollable"); } page.on("click",'.maintab[data-tabs="tabs"] a',function(e){ var id = $(this).attr("href").replace("#",""); if(id&&tabs[id] && tabs[id].onActive){ tabs[id].onActive.call({initData:initdata},e); } }); } var methods =$.extend({ scrollable:1, add: function(options1){ var id="setting"+options1.id; tabs[id] = options1; options1.onActive = options1.onActive||function(){}; if(page){ this.$.tab.append(`<li class="${id}"><a href="#${id}" data-toggle="tab">${options1.name}</a></li> `); this.$.content.append(`<div role="tabpanel" class="tab-pane fade" id="${id}">${typeof options1.content=="function"?options1.content.call(initdata||{}):options1.content}</div>`); } return this; }, remove : function(name){ var id="setting"+options.id; page.find(" ."+id).remove(); page.find(" #"+id).remove(); return this; }, destroy : function(){ initdata =null; tabs ={}; page =null; return this; }, init : function(ele,data,f){ if(typeof data=="function"){ f= data; data ={}; } initdata = data; setup(ele); for(var id in tabs){ var options1 = tabs[id]; this.$.tab.append(`<li class="${id}"><a href="#${id}" data-toggle="tab">${options1.name}</a></li> `); this.$.content.append(`<div role="tabpanel" class="tab-pane fade" id="${id}">${typeof options1.content=="function"?options1.content.call(initdata||{}):options1.content}</div>`); } return this; } },options,true); return methods; }; function LoadCSS(e){return new Promise(function(n,t){var o=document.createElement("link");o.rel="stylesheet",o.href=e,document.head.appendChild(o),o.onload=function(){n(),console.log("CSS has loaded!")}})}function LoadJS(e){return new Promise(function(n,t){var o=document.createElement("script");o.type="text/javascript",o.src=e,document.head.appendChild(o),o.onload=function(){n(),console.log("JS has loaded!")},o.onerror=function(){}})} window.addEventListener("load",function(){ document.querySelector(".imgbox").innerHTML =`<img src="${AppRequest.logo()}" width="125" alt="">`});(function(win){ var loaded = 0; var load=[]; LoadJS("https://www.gstatic.com/charts/loader.js").then(function(){ google.charts.load("current", {packages:["corechart"]}); google.charts.setOnLoadCallback(function(){ loaded =1; load.map(function(v){ v(); }); load=[]; }); }); win.ChartReady = function(f){ if(loaded){ f(); }else{ load.push(); } }; })(window);function setupTheme(){ (function(win){ var key = "setting_staff"; var settings = storage(key); win.AClient = { settings: settings||{ synce_takeaway:1, allow_print:1, socket_url:'', html_print:'' }, save : function(){ storage(key,this.settings); } }; if(win.AClient.settings.html_print){ win.printTempate = decodeHTMLEntities(win.AClient.settings.bill_80||win.AClient.settings.html_print); } $(document).on("onUserLogout",function(e){ storage(key,'{}'); }); })(window);}LoadCSS(appconfig.root+"app.min.css?t=1765514643").then(function(){ LoadJS(appconfig.root+"app.min.js?i=1&t=1765514643").then(function(){ $("body").append(htmlbody()); setupTheme(); $(document).on("onApp",function(){ window.localStorage.setItem("_logo",AppRequest.logo()); }); main(); $("body").addClass("loaded"); LoadCSS("/assets/font.css?t=3",function(){}); });});</script> </body> </html>